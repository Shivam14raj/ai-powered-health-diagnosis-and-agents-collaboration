<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Symptom Analyzer</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Add TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.17.0/dist/tf.min.js"></script>
    <!-- Add error handling for TensorFlow.js -->
    <script>
        window.addEventListener('error', function(e) {
            if (e.message.includes('TensorFlow')) {  
                console.error('TensorFlow.js error:', e);
                alert('Error loading TensorFlow.js. The application will use rule-based analysis instead.');
            }
        });
    </script>       
</head>  
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-heartbeat"></i> AI-Powered Health Diagnosis</h1>
            <p>Get AI-powered health insights and personalized recommendations</p>
        </header>

        <main>
            <div class="symptom-form">
                <div class="form-section">   
                    <h2><i class="fas fa-comment-medical"></i> Describe Your Symptoms</h2>
                    <div class="symptom-input">
                        <label for="symptoms">How are you feeling? Describe your symptoms in detail:</label>
                        <textarea id="symptoms" placeholder="e.g., I've been feeling tired and have a headache for the past few days..."></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h2><i class="fas fa-clock"></i> Duration</h2>
                    <div class="duration-input">
                        <label for="duration">How long have you been experiencing these symptoms?</label>
                        <select id="duration">
                            <option value="">Select duration</option>
                            <option value="less_than_day">Less than a day</option>
                            <option value="1_3_days">1-3 days</option>
                            <option value="4_7_days">4-7 days</option>
                            <option value="1_2_weeks">1-2 weeks</option>
                            <option value="more_than_2_weeks">More than 2 weeks</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h2><i class="fas fa-user-circle"></i> Lifestyle & Habits</h2>
                    <div class="habits-section">
                        <h3>Lifestyle & Habits</h3>
                        <div class="habits-grid">
                            <div class="habit-item">
                                <input type="checkbox" id="smoking" name="habits">
                                <label for="smoking"><i class="fas fa-smoking"></i> Smoking</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="alcohol" name="habits">
                                <label for="alcohol"><i class="fas fa-wine-glass-alt"></i> Alcohol Consumption</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="exercise" name="habits">
                                <label for="exercise"><i class="fas fa-running"></i> Regular Exercise</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="stress" name="habits">
                                <label for="stress"><i class="fas fa-brain"></i> High Stress Levels</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="sleep" name="habits">
                                <label for="sleep"><i class="fas fa-moon"></i> Poor Sleep Quality</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="diet" name="habits">
                                <label for="diet"><i class="fas fa-utensils"></i> Unhealthy Diet</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="sedentary" name="habits">
                                <label for="sedentary"><i class="fas fa-couch"></i> Sedentary Lifestyle</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="caffeine" name="habits">
                                <label for="caffeine"><i class="fas fa-coffee"></i> High Caffeine Intake</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="screen_time" name="habits">
                                <label for="screen_time"><i class="fas fa-desktop"></i> Excessive Screen Time</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="irregular_meals" name="habits">
                                <label for="irregular_meals"><i class="fas fa-clock"></i> Irregular Meal Times</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="dehydration" name="habits">
                                <label for="dehydration"><i class="fas fa-tint"></i> Inadequate Water Intake</label>
                            </div>
                            <div class="habit-item">
                                <input type="checkbox" id="poor_posture" name="habits">
                                <label for="poor_posture"><i class="fas fa-user"></i> Poor Posture</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2><i class="fas fa-venus-mars"></i> Gender</h2>
                    <div class="gender-input">
                        <label for="gender">Select your gender:</label>
                        <select id="gender">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                </div>

                <div class="form-section female-specific" id="female-specific" style="display: none;">
                    <h2><i class="fas fa-female"></i> Female Health</h2>
                    <div class="female-health-section">
                        <h3>Menstrual Cycle Status</h3>
                        <div class="cycle-status">
                            <label for="cycle-status">Are you currently on your period?</label>
                            <select id="cycle-status">
                                <option value="no">No</option>
                                <option value="yes">Yes</option>
                            </select>
                        </div>
                        <div class="female-symptoms-info">
                            <p><i class="fas fa-info-circle"></i> Your symptoms will be analyzed considering your menstrual cycle status for more accurate results.</p>
                        </div>
                    </div>
                </div>

                <button id="analyze-btn" class="analyze-button">
                    <i class="fas fa-search"></i> Analyze Symptoms
                </button>
            </div>

            <div class="results" id="results">
                <h2>Analysis Results</h2>
                <div class="loading" id="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Analyzing your symptoms...</p>
                </div>
                <div class="results-content" id="results-content" style="display: none;">
                    <div class="results-grid">
                        <div class="possible-conditions">
                            <h3><i class="fas fa-clipboard-list"></i> Possible Conditions</h3>
                            <ul id="conditions-list"></ul>
                        </div>
                        <div class="recommendations">
                            <h3><i class="fas fa-lightbulb"></i> Recommendations</h3>
                            <ul id="recommendations-list"></ul>
                        </div>
                    </div>
                    <div class="severity-indicator">
                        <h3><i class="fas fa-exclamation-triangle"></i> Severity Level</h3>
                        <div class="severity-meter">
                            <div class="severity-bar" id="severity-bar"></div>
                        </div>
                        <p id="severity-text"></p>
                    </div>
                </div>
            </div>
        </main>  

        <div class="button-container">
            <button onclick="redirect()">ðŸ’¬</button>
        </div>  

        <script>
            function redirect() {
                window.location.href = "https://shivam142005.app.n8n.cloud/webhook/f04f8fd1-8b44-4ef6-9448-93f63a06255e/chat";
            }
        </script>

        <footer>
            <p><i class="fas fa-info-circle"></i> Disclaimer: This tool is for informational purposes only and consult a qualified doctor. </p>
        </footer>
    </div>
    <!-- Load main.js as a module -->
    <script type="module" src="static/js/main.js"></script>
</body>
</html> 